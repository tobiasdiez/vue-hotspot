!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue-demi"),require("vue")):"function"==typeof define&&define.amd?define(["vue-demi","vue"],t):(e=e||self).VueHotspot=t(e.vueDemi,e.Vue)}(this,(function(e,t){"use strict";function o(e,t){var o=null,n=Date.now();return function(){var i=this,a=arguments,s=Date.now(),r=t-(s-n);clearTimeout(o),r<=0?(e.apply(i,a),n=Date.now()):o=setTimeout(e,r)}}var n=e.defineComponent({props:{hotspot:Object,config:Object,imageLoaded:Boolean,vueHotspotBackgroundImage:HTMLImageElement,vueHotspot:HTMLDivElement},onMounted:function(){window.addEventListener("resize",o(this.getHotspotStyle,50))},onUnmounted:function(){window.removeEventListener("resize",o(this.getHotspotStyle,50))},setup:function(t,o){o.emit;var n=e.ref(!1),i=e.reactive({positionTop:0,positionLeft:0,hotspotColor:e.computed((function(){return t.config&&t.config.hotspotColor})),interactivity:e.computed((function(){return t.config&&t.config.interactivity})),textColor:e.computed((function(){return t.config&&t.config.textColor})),messageBoxColor:e.computed((function(){return t.config&&t.config.messageBoxColor})),opacity:e.computed((function(){return t.config&&t.config.opacity}))});function a(){i.positionTop=t.hotspot.y*t.vueHotspotBackgroundImage.clientHeight/100+(t.vueHotspotBackgroundImage.offsetTop-t.vueHotspot.clientTop)+"px;",i.positionLeft=t.hotspot.x*t.vueHotspotBackgroundImage.clientWidth/100+(t.vueHotspotBackgroundImage.offsetLeft-t.vueHotspot.clientLeft)+"px;"}return e.watch((function(){return t.imageLoaded}),(function(e,t){e&&a()})),Object.assign({},{isActive:n},e.toRefs(i),{getHotspotStyle:a,toggleActive:function(){n.value=!n.value}})}});function i(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===o&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}i("\n/* CSS class for hotspot data points */\n.ui__vue_hotspot_hotspot[data-v-7f27e4ff] {\n  height: 20px;\n  width: 20px;\n  position: absolute;\n  border-radius: 50%;\n  cursor: pointer;\n  z-index: 200;\n  margin-left: -10px;\n  margin-top: -10px;\n}\n.ui__vue_hotspot_hotspot > div[data-v-7f27e4ff] {\n  width: 140px;\n  height: 94px;\n  margin: -104px -60px;\n  border-radius: 4px;\n  overflow: hidden;\n  font-size: 10px;\n  display: none;\n}\n.ui__vue_hotspot_hotspot.active > div[data-v-7f27e4ff] {\n  display: block; /* Required */\n}\n.ui__vue_hotspot_hotspot.active > div[data-v-7f27e4ff]:before {\n  border: solid transparent;\n  content: ' ';\n  height: 0;\n  left: 0;\n  position: absolute;\n  width: 0;\n  border-width: 10px;\n  border-left-color: rgba(255, 255, 255, 0.4);\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n  top: -10px;\n}\n.ui__vue_hotspot_hotspot > div > .ui__vue_hotspot_title[data-v-7f27e4ff] {\n  height: 20px;\n  line-height: 20px;\n  font-weight: bold;\n  padding: 4px 10px;\n  -webkit-transition: opacity 0.2s ease-in;\n  transition: opacity 0.2s ease-in;\n}\n.ui__vue_hotspot_hotspot > div > .ui__vue_hotspot_message[data-v-7f27e4ff] {\n  margin-top: 2px;\n  padding: 10px 10px;\n  height: 72px;\n  overflow-y: auto;\n  -webkit-transition: opacity 0.2s ease-in;\n  transition: opacity 0.2s ease-in;\n}\n"),n.render=function(e,o,n,i,a,s){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ui__vue_hotspot_hotspot",e.isActive||"none"===e.interactivity?"active":""]),style:t.normalizeStyle("top: "+e.positionTop+"; left: "+e.positionLeft+"; background-color: "+e.hotspotColor+";"),onMouseenter:o[0]||(o[0]=function(t){return"hover"===e.interactivity?e.isActive=!0:null}),onMouseleave:o[1]||(o[1]=function(t){return"hover"===e.interactivity?e.isActive=!1:null}),onClick:o[2]||(o[2]=function(t){return"click"===e.interactivity?e.toggleActive():null})},[t.createElementVNode("div",{style:t.normalizeStyle("color:"+e.textColor)},[t.createElementVNode("div",{class:"ui__vue_hotspot_title",style:t.normalizeStyle("\n          background: "+e.messageBoxColor+";\n          opacity: "+e.opacity)},t.toDisplayString(e.hotspot.Title),5),t.createElementVNode("div",{class:"ui__vue_hotspot_message",style:t.normalizeStyle("\n          background: "+e.messageBoxColor+";\n          opacity: "+e.opacity)},t.toDisplayString(e.hotspot.Message),5)],4)],38)},n.__scopeId="data-v-7f27e4ff";var a=e.defineComponent({props:{config:Object},setup:function(t,o){var n=o.emit;return{isEditable:e.computed((function(){return t.config&&t.config.editable})),saveAllHotspots:function(){n("save-data",t.config.data)},removeAllHotspots:function(){t.config.data=[],n("after-delete")}}}}),s={class:"ui__vue_hotspot_buttons_box"};i("\n/* To set fixed height for buttons area pops up */\n.ui__vue_hotspot_buttons_box[data-v-c660109a] {\n  height: 5em;\n}\n.ui__vue_hotspot_buttons[data-v-c660109a] {\n  -webkit-transition: padding 0.4s ease-out, opacity 0.2s ease-in;\n  transition: padding 0.4s ease-out, opacity 0.2s ease-in;\n  -webkit-box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  border-radius: 0 0 1em 1em;\n  padding: 0em;\n  opacity: 0;\n}\n.ui__vue_hotspot_buttons.active[data-v-c660109a] {\n  padding: 1em;\n  opacity: 1;\n}\n/* Action button CSS classes used in `editable:true` mode */\n.ui__vue_hotspot_buttons > .ui__vue_hotspot_save[data-v-c660109a],\n.ui__vue_hotspot_buttons > .ui__vue_hotspot_remove[data-v-c660109a] {\n  width: 8em;\n  display: inline-block;\n  line-height: 1;\n  white-space: nowrap;\n  cursor: pointer;\n  background: #fff;\n  border: 1px solid #dcdfe6;\n  color: #606266;\n  -webkit-appearance: none;\n  text-align: center;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  outline: none;\n  margin: 0;\n  -webkit-transition: .1s;\n  transition: .1s;\n  font-weight: 500;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  padding: 12px 20px;\n  font-size: 14px;\n  border-radius: 4px;\n  margin-left: 10px;\n}\n.ui__vue_hotspot_buttons > .ui__vue_hotspot_save[data-v-c660109a] {\n  color: #fff;\n  background-color: #67c23a;\n  border-color: #67c23a;\n}\n.ui__vue_hotspot_buttons > .ui__vue_hotspot_save[data-v-c660109a]:hover {\n  background: #85ce61;\n  border-color: #85ce61;\n  color: #fff;\n}\n.ui__vue_hotspot_buttons > .ui__vue_hotspot_remove[data-v-c660109a] {\n  color: #fff;\n  background-color: #f56c6c;\n  border-color: #f56c6c;\n}\n.ui__vue_hotspot_buttons > .ui__vue_hotspot_remove[data-v-c660109a]:hover {\n  color: #fff;\n  background: #f78989;\n  border-color: #f78989;\n}\n"),a.render=function(e,o,n,i,a,r){return t.openBlock(),t.createElementBlock("div",s,[t.createElementVNode("div",{class:t.normalizeClass(["ui__vue_hotspot_buttons",e.isEditable?"active":""])},[t.createElementVNode("button",{class:"ui__vue_hotspot_save",onClick:o[0]||(o[0]=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return e.saveAllHotspots&&e.saveAllHotspots.apply(e,t)})},"Save"),t.createElementVNode("button",{class:"ui__vue_hotspot_remove",onClick:o[1]||(o[1]=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return e.removeAllHotspots&&e.removeAllHotspots.apply(e,t)})},"Remove")],2)])},a.__scopeId="data-v-c660109a";var r=e.defineComponent({components:{DataPoint:n,ControlBox:a},props:{initOptions:Object},onMounted:function(){window.addEventListener("resize",o(this.resizeOverlay,50))},onUnmounted:function(){window.removeEventListener("resize",o(this.resizeOverlay,50))},setup:function(t,o){var n=o.emit,i=e.ref(null),a=e.ref(null),s=e.ref(null),r=e.reactive({data:[],image:"https://via.placeholder.com/600x500?text=Oops!+image+not+found...",editable:!0,interactivity:"hover",hotspotColor:"rgb(66, 184, 131)",messageBoxColor:"rgb(255, 255, 255)",textColor:"rgb(53, 73, 94)",overlayText:"Please Click The Image To Add Hotspots.",opacity:.8,schema:[{property:"Title",default:"Vue Hotspot"},{property:"Message",default:"This is a Vue Hotspot Component which lets you create hotspot. "}]}),u=e.ref(null),c=e.ref(!1),p=e.reactive({height:0,width:0,left:0,top:0});function l(){var t=e.isRef(s)?s.value:s,o=e.isRef(i)?i.value:i;t&&o&&(p.height=t.clientHeight/o.clientHeight*100+"%",p.width=t.clientWidth/o.clientWidth*100+"%",p.left=t.offsetLeft-o.clientLeft+"px",p.top=t.offsetTop-o.clientTop+"px")}function d(e){return JSON.parse(JSON.stringify(e))}return e.watch(c,(function(e,t){e&&l()})),e.watch((function(){return t.initOptions}),(function(e,t){u.value=Object.assign({},u.value?u.value:d(r),e)}),{deep:!0,immediate:!0}),{defaultOptions:r,config:u,imageLoaded:c,overlaySize:p,vueHotspot:i,vueHotspotOverlay:a,vueHotspotBackgroundImage:s,deepCopy:d,successLoadImg:function(e){!0===e.target.complete&&(c.value=!0,l())},saveAllHotspots:function(){var t=e.isRef(u)?u.value:u;n("save-data",t.data)},removeAllHotspots:function(){n("after-delete")},resizeOverlay:l,addHotspot:function(t){for(var o=t.offsetX,n=t.offsetY,i=e.isRef(u)?u.value:u,s=a.value.offsetHeight,r={x:o/a.value.offsetWidth*100,y:n/s*100},c=i.schema,p=0;p<c.length;p++){var l=c[p],d=prompt("Please enter "+l.property,l.default);if(null===d)return;r[l.property]=d}i.data.push(r)}}}}),u={key:0,class:"ui__vue_hotspot",ref:"vueHotspot"},c=["src"];return i("\n.ui__vue_hotspot {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  position: relative;\n}\n.ui__vue_hotspot_background_image {\n  max-width: 100%;\n  width: 100%;\n}\n/* CSS class for overlay used in `editable:true` mode */\nspan.ui__vue_hotspot_overlay {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.4);\n  top: 0px;\n  left: 0px;\n  cursor: pointer;\n}\nspan.ui__vue_hotspot_overlay > p {\n  color: #ffffff;\n  background: rgba(255, 255, 255, 0.4);\n  margin-top: 0px;\n  padding: 20px;\n  text-align: center;\n}\n"),r.render=function(e,o,n,i,a,s){var r=t.resolveComponent("DataPoint"),p=t.resolveComponent("ControlBox");return e.config?(t.openBlock(),t.createElementBlock("div",u,[t.createTextVNode(t.toDisplayString(e.overlaySize)+" ",1),t.createElementVNode("img",{class:"ui__vue_hotspot_background_image",ref:"vueHotspotBackgroundImage",src:e.config.image,onLoad:o[0]||(o[0]=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return e.successLoadImg&&e.successLoadImg.apply(e,t)}),alt:"Hotspot Image"},null,40,c),e.config.editable?(t.openBlock(),t.createElementBlock("span",{key:0,class:"ui__vue_hotspot_overlay",ref:"vueHotspotOverlay",style:t.normalizeStyle(e.overlaySize),onClick:o[1]||(o[1]=t.withModifiers((function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return e.addHotspot&&e.addHotspot.apply(e,t)}),["stop","prevent"]))},[t.createElementVNode("p",null,t.toDisplayString(e.config.overlayText),1)],4)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.config.data,(function(o,n){return t.openBlock(),t.createBlock(r,{key:n,hotspot:o,config:e.config,imageLoaded:e.imageLoaded,vueHotspotBackgroundImage:e.vueHotspotBackgroundImage,vueHotspot:e.vueHotspot},null,8,["hotspot","config","imageLoaded","vueHotspotBackgroundImage","vueHotspot"])})),128)),t.createVNode(p,{config:e.config,onSaveData:e.saveAllHotspots,onAfterDelete:e.removeAllHotspots},null,8,["config","onSaveData","onAfterDelete"])],512)):t.createCommentVNode("",!0)},r}));
